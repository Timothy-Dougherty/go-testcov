language: go
sudo: false
branches:
  only: master
before_install:
 - curl https://raw.githubusercontent.com/golang/dep/master/install.sh | sh
 - dep ensure
script:
 - go test -race -cover -covermode=atomic
 - go install && go-testcov
 - go vet
 - '[ -z `go fmt` ]'
